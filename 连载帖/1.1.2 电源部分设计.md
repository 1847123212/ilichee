#电源部分设计 #
## 〇.背景 ##
本文所属目录层次为：  

```
-> 1.硬件设计 
	-> 1.原理图设计 
		-> 2.电源部分设计
```
主要介绍A13的电源引脚，及配套的电源芯片AXP209的使用。
（交流QQ群：573832310，上车口令：爱荔枝）

## 一.A13电源引脚介绍 ##
这里我们先找A13的主要电源引脚，也就是datasheet中标识为Power的引脚，用excel筛选下可得：
![](http://7xvwj0.com1.z0.glb.clouddn.com/16-7-4/36316023.jpg)

简单说下各电源的用处  

| 电源  |  用途 | 
| -----  |-----------|
| VCC | IO口电源|
|AVCC| 模拟电路电源|
|VDD_CPU|CPU内核电压|
|VDD_INT|Interrupt Power，中断电源？|
|VCC_DRAM|内存电源|
| V33_HP |耳机电源|
|V33_USB|USB电源|

查阅手册可知它们的参考范围：
![](http://7xvwj0.com1.z0.glb.clouddn.com/16-7-4/17484878.jpg)

把板子上所有的电源按电压分类：

| 电压(V)   |  电源名 | 备注|
| -----  |-----------|---|
| 5 | DC输入电压|-|
| 4.2 |锂电池供电|-|
| 3.3 |VCC,V33_HP,V33_USB|-|
| 2.7~3.3 |AVCC|为模拟键盘等供电|
| 2.8 |摄像头电源|工作电流约20mA|
|1.3/1.8|摄像头内核电压|-|
|1.5|VCC_DRAM|最大工作电流IDD5B=200mA|
|1.1~1.4|VDD_CPU|不同电压对应不同主频|
|1.2|VDD_INT|-|

可见板子上需要的电压种类比较多，如何生成、管理这些电源是个问题。

## 二.AXP209介绍及电源树设计 ##
AXP209 是专为全志A10/13/20等主控配备的电源管理芯片（PMU），管脚如下图所示：
![](http://7xvwj0.com1.z0.glb.clouddn.com/16-7-4/50236130.jpg)

具体功能可以查看它的datasheet，简而言之，它提供以下功能：

| 功能   |  参数 | 
| -----  |-----------|
| DC-DC2 | 0.7~2.275V可调，1.6A max|
| DC-DC3 | 0.7~3.5V可调，1.2A max|
| LDO1 | 3.3V，30mA|
| LDO2 | 1.8~3.3V可调，200mA max|
| LDO3 | 0.7~3.3V可调，200mA max|
| LDO4 | 1.8~3.3V可调， 200mA max|
| LDO5 | 1.8~3.3V可调， 50mA max（不常用）|
|锂电池充电|1.8A max，可指示，内建库仑计|
|系统管理|支持软硬复位/关机等|
|管理接口|I2C|

充分利用AXP209的电源接口，设计电源树如下：
![](http://7xvwj0.com1.z0.glb.clouddn.com/16-7-24/1871435.jpg)

最终还是基本按照官方设计来的，使用了很多外置DCDC。
原理图在 “资源文件”目录下
```  
因为之前将VDD_CPU和VDD_INT合并，DCDC3作为DRAM电源的设定，需要将设置PMU电压调整到boot0中进行，而原boot0并没有进行PMU操作就直接进行DRAM的初始化，将会导致boot失败。
```







